---

---

<div class="scroll-progress" aria-hidden="true">
  <div class="scroll-progress__fill"></div>
</div>

<style>
  .scroll-progress {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 3px;
    z-index: 50;
    opacity: 0;
    transition: opacity 0.5s ease;
    pointer-events: none;
    background: transparent;
  }

  .scroll-progress.is-visible {
    opacity: 1;
  }

  .scroll-progress__fill {
    height: 100%;
    width: 0%;
    background: linear-gradient(
      90deg,
      var(--color-terracotta),
      var(--color-ambre),
      var(--color-sauge)
    );
    border-radius: 0 2px 2px 0;
    transition: width 0.15s ease-out;
    box-shadow: 0 0 6px rgba(192, 96, 62, 0.4);
  }

  @media (prefers-reduced-motion: reduce) {
    .scroll-progress__fill {
      transition: none;
    }
  }
</style>

<script>
  function initScrollProgress() {
    const bar = document.querySelector<HTMLElement>('.scroll-progress');
    const fill = document.querySelector<HTMLElement>('.scroll-progress__fill');
    if (!bar || !fill) return;

    let ticking = false;

    function update() {
      const scrollY = window.scrollY;
      const viewH = window.innerHeight;
      const docH = document.documentElement.scrollHeight;
      const maxScroll = docH - viewH;

      if (scrollY > viewH * 0.8) {
        bar!.classList.add('is-visible');
      } else {
        bar!.classList.remove('is-visible');
      }

      const pct = maxScroll > 0 ? Math.min((scrollY / maxScroll) * 100, 100) : 0;
      fill!.style.width = pct + '%';

      ticking = false;
    }

    function onScroll() {
      if (!ticking) {
        ticking = true;
        requestAnimationFrame(update);
      }
    }

    window.addEventListener('scroll', onScroll, { passive: true });
    update();
  }

  initScrollProgress();
</script>
